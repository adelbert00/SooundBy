{"version":3,"sources":["../src/index.ts","../src/commands/add.ts","../src/utils/transformers/index.ts","../src/utils/transformers/transform-css-vars.ts","../src/utils/transformers/transform-import.ts","../src/utils/transformers/transform-sfc.ts","../src/utils/get-config.ts","../src/utils/resolve-import.ts","../src/utils/handle-error.ts","../src/utils/registry/index.ts","../src/utils/registry/schema.ts","../src/commands/diff.ts","../src/commands/init.ts","../src/utils/templates.ts","../src/utils/transformers/transform-cjs-to-esm.ts","../src/utils/transformers/transform-tw-prefix.ts","../src/utils/get-package-info.ts"],"sourcesContent":["#!/usr/bin/env node\nimport process from 'node:process'\n\nimport { Command } from 'commander'\n\nimport { add } from '@/src/commands/add'\nimport { diff } from '@/src/commands/diff'\nimport { init } from '@/src/commands/init'\nimport { getPackageInfo } from '@/src/utils/get-package-info'\n\nprocess.on('SIGINT', () => process.exit(0))\nprocess.on('SIGTERM', () => process.exit(0))\n\nasync function main() {\n  const packageInfo = await getPackageInfo()\n\n  const program = new Command()\n    .name('shadcn-vue')\n    .description('add components and dependencies to your project')\n    .version(\n      packageInfo.version || '1.0.0',\n      '-v, --version',\n      'display the version number',\n    )\n\n  program.addCommand(init).addCommand(add).addCommand(diff)\n\n  program.parse()\n}\n\nmain()\n","import { existsSync, promises as fs, rmSync } from 'node:fs'\nimport process from 'node:process'\nimport path from 'pathe'\nimport { consola } from 'consola'\nimport { colors } from 'consola/utils'\nimport { Command } from 'commander'\nimport ora from 'ora'\nimport prompts from 'prompts'\nimport { z } from 'zod'\nimport { addDependency, addDevDependency } from 'nypm'\nimport { transform } from '@/src/utils/transformers'\nimport { getConfig } from '@/src/utils/get-config'\nimport { handleError } from '@/src/utils/handle-error'\nimport {\n  fetchTree,\n  getItemTargetPath,\n  getRegistryBaseColor,\n  getRegistryIndex,\n  resolveTree,\n} from '@/src/utils/registry'\n\nconst addOptionsSchema = z.object({\n  components: z.array(z.string()).optional(),\n  yes: z.boolean(),\n  overwrite: z.boolean(),\n  cwd: z.string(),\n  all: z.boolean(),\n  path: z.string().optional(),\n})\n\nexport const add = new Command()\n  .name('add')\n  .description('add a component to your project')\n  .argument('[components...]', 'the components to add')\n  .option('-y, --yes', 'skip confirmation prompt.', true)\n  .option('-o, --overwrite', 'overwrite existing files.', false)\n  .option(\n    '-c, --cwd <cwd>',\n    'the working directory. defaults to the current directory.',\n    process.cwd(),\n  )\n  .option('-a, --all', 'add all available components', false)\n  .option('-p, --path <path>', 'the path to add the component to.')\n  .action(async (components, opts) => {\n    try {\n      const options = addOptionsSchema.parse({\n        components,\n        ...opts,\n      })\n\n      const cwd = path.resolve(options.cwd)\n\n      if (!existsSync(cwd)) {\n        consola.error(`The path ${cwd} does not exist. Please try again.`)\n        process.exit(1)\n      }\n\n      const config = await getConfig(cwd)\n\n      if (!config) {\n        consola.warn(`Configuration is missing. Please run ${colors.green('init')} to create a components.json file.`)\n\n        process.exit(1)\n      }\n\n      const registryIndex = await getRegistryIndex()\n\n      let selectedComponents = options.all\n        ? registryIndex.map(entry => entry.name)\n        : options.components\n      if (!options.components?.length && !options.all) {\n        const { components } = await prompts({\n          type: 'multiselect',\n          name: 'components',\n          message: 'Which components would you like to add?',\n          hint: 'Space to select. A to toggle all. Enter to submit.',\n          instructions: false,\n          choices: registryIndex.map(entry => ({\n            title: entry.name,\n            value: entry.name,\n            selected: options.all\n              ? true\n              : options.components?.includes(entry.name),\n          })),\n        })\n        selectedComponents = components\n      }\n\n      if (!selectedComponents?.length) {\n        consola.warn('No components selected. Exiting.')\n        process.exit(0)\n      }\n\n      const tree = await resolveTree(registryIndex, selectedComponents)\n      const payload = await fetchTree(config.style, tree)\n      const baseColor = await getRegistryBaseColor(config.tailwind.baseColor)\n\n      if (!payload.length) {\n        consola.warn('Selected components not found. Exiting.')\n        process.exit(0)\n      }\n\n      if (!options.yes) {\n        const { proceed } = await prompts({\n          type: 'confirm',\n          name: 'proceed',\n          message: 'Ready to install components and dependencies. Proceed?',\n          initial: true,\n        })\n\n        if (!proceed)\n          process.exit(0)\n      }\n\n      const spinner = ora('Installing components...').start()\n      for (const item of payload) {\n        spinner.text = `Installing ${item.name}...`\n        const targetDir = getItemTargetPath(\n          config,\n          item,\n          options.path ? path.resolve(cwd, options.path) : undefined,\n        )\n\n        if (!targetDir)\n          continue\n\n        if (!existsSync(targetDir))\n          await fs.mkdir(targetDir, { recursive: true })\n\n        const existingComponent = item.files.filter(file =>\n          existsSync(path.resolve(targetDir, item.name, file.name)),\n        )\n\n        if (existingComponent.length && !options.overwrite) {\n          if (selectedComponents.includes(item.name)) {\n            spinner.stop()\n            const { overwrite } = await prompts({\n              type: 'confirm',\n              name: 'overwrite',\n              message: `Component ${item.name} already exists. Would you like to overwrite?`,\n              initial: false,\n            })\n\n            if (!overwrite) {\n              consola.info(\n                `Skipped ${item.name}. To overwrite, run with the ${colors.green(\n                  '--overwrite',\n                )} flag.`,\n              )\n              continue\n            }\n\n            spinner.start(`Installing ${item.name}...`)\n          }\n          else {\n            continue\n          }\n        }\n\n        // Install dependencies.\n        await Promise.allSettled(\n          [\n            item.dependencies?.length && await addDependency(item.dependencies, {\n              cwd,\n              silent: true,\n            }),\n            item.devDependencies?.length && await addDevDependency(item.devDependencies, {\n              cwd,\n              silent: true,\n            }),\n          ],\n        )\n\n        const componentDir = path.resolve(targetDir, item.name)\n        if (!existsSync(componentDir))\n          await fs.mkdir(componentDir, { recursive: true })\n\n        const files = item.files.map(file => ({\n          ...file,\n          path: path.resolve(\n            targetDir,\n            item.name,\n            file.name,\n          ),\n        }))\n\n        // We need to write original files to disk if we're not using TypeScript.\n        // Rewrite or delete added files after transformed\n        if (!config.typescript) {\n          for (const file of files)\n            await fs.writeFile(file.path, file.content)\n        }\n\n        for (const file of files) {\n          // Run transformers.\n          const content = await transform({\n            filename: file.path,\n            raw: file.content,\n            config,\n            baseColor,\n          })\n\n          let filePath = file.path\n\n          if (!config.typescript) {\n            // remove original .ts file if we're not using TypeScript.\n            if (file.path.endsWith('.ts')) {\n              if (existsSync(file.path))\n                rmSync(file.path)\n            }\n            filePath = file.path.replace(/\\.ts$/, '.js')\n          }\n\n          await fs.writeFile(filePath, content)\n        }\n      }\n      spinner.succeed('Done.')\n    }\n    catch (error) {\n      handleError(error)\n    }\n  })\n","import { promises as fs } from 'node:fs'\nimport { tmpdir } from 'node:os'\nimport path from 'pathe'\nimport { Project, ScriptKind, type SourceFile } from 'ts-morph'\nimport type * as z from 'zod'\nimport type { Config } from '@/src/utils/get-config'\nimport type { registryBaseColorSchema } from '@/src/utils/registry/schema'\nimport { transformCssVars } from '@/src/utils/transformers/transform-css-vars'\nimport { transformImport } from '@/src/utils/transformers/transform-import'\nimport { transformSFC } from '@/src/utils/transformers/transform-sfc'\n\nexport interface TransformOpts {\n  filename: string\n  raw: string\n  config: Config\n  baseColor?: z.infer<typeof registryBaseColorSchema>\n}\n\nexport type Transformer<Output = SourceFile> = (\n  opts: TransformOpts & {\n    sourceFile: SourceFile\n  }\n) => Promise<Output>\n\nconst transformers: Transformer[] = [\n  transformCssVars,\n  transformImport,\n  // transformTwPrefixes,\n]\n\nconst project = new Project({\n  compilerOptions: {},\n})\n\nasync function createTempSourceFile(filename: string) {\n  const dir = await fs.mkdtemp(path.join(tmpdir(), 'shadcn-'))\n  return path.join(dir, filename)\n}\n\nexport async function transform(opts: TransformOpts) {\n  const tempFile = await createTempSourceFile(opts.filename)\n  const sourceFile = project.createSourceFile(tempFile, opts.raw, {\n    scriptKind: ScriptKind.Unknown,\n  })\n\n  for (const transformer of transformers)\n    transformer({ sourceFile, ...opts })\n\n  return await transformSFC({\n    sourceFile,\n    ...opts,\n  })\n}\n","import type * as z from 'zod'\nimport MagicString from 'magic-string'\nimport type { SFCTemplateBlock } from '@vue/compiler-sfc'\nimport { parse } from '@vue/compiler-sfc'\nimport { SyntaxKind } from 'ts-morph'\nimport type { registryBaseColorSchema } from '@/src/utils/registry/schema'\nimport type { Transformer } from '@/src/utils/transformers'\n\nexport const transformCssVars: Transformer = async ({\n  sourceFile,\n  config,\n  baseColor,\n}) => {\n  const isVueFile = sourceFile.getFilePath().endsWith('vue')\n  // No transform if using css variables.\n  if (config.tailwind?.cssVariables || !baseColor?.inlineColors)\n    return sourceFile\n\n  let template: SFCTemplateBlock | null = null\n\n  if (isVueFile) {\n    const parsed = parse(sourceFile.getText())\n    template = parsed.descriptor.template\n\n    if (!template)\n      return sourceFile\n  }\n\n  sourceFile.getDescendantsOfKind(SyntaxKind.StringLiteral).forEach((node) => {\n    if (template && template.loc.start.offset >= node.getPos())\n      return sourceFile\n\n    const value = node.getText()\n\n    const hasClosingDoubleQuote = value.match(/\"/g)?.length === 2\n    if (value.search('\\'') === -1 && hasClosingDoubleQuote) {\n      const mapped = applyColorMapping(value.replace(/\"/g, ''), baseColor.inlineColors)\n      node.replaceWithText(`\"${mapped}\"`)\n    }\n    else {\n      const s = new MagicString(value)\n      s.replace(/'(.*?)'/g, (substring) => {\n        return `'${applyColorMapping(substring.replace(/\\'/g, ''), baseColor.inlineColors)}'`\n      })\n      node.replaceWithText(s.toString())\n    }\n  })\n\n  return sourceFile\n}\n\n// Splits a className into variant-name-alpha.\n// eg. hover:bg-primary-100 -> [hover, bg-primary, 100]\nexport function splitClassName(className: string): (string | null)[] {\n  if (!className.includes('/') && !className.includes(':'))\n    return [null, className, null]\n\n  const parts: (string | null)[] = []\n  // First we split to find the alpha.\n  const [rest, alpha] = className.split('/')\n\n  // Check if rest has a colon.\n  if (!rest.includes(':'))\n    return [null, rest, alpha]\n\n  // Next we split the rest by the colon.\n  const split = rest.split(':')\n\n  // We take the last item from the split as the name.\n  const name = split.pop()\n\n  // We glue back the rest of the split.\n  const variant = split.join(':')\n\n  // Finally we push the variant, name and alpha.\n  parts.push(variant ?? null, name ?? null, alpha ?? null)\n\n  return parts\n}\n\nconst PREFIXES = ['bg-', 'text-', 'border-', 'ring-offset-', 'ring-']\n\nexport function applyColorMapping(\n  input: string,\n  mapping: z.infer<typeof registryBaseColorSchema>['inlineColors'],\n) {\n  // Handle border classes.\n  if (input.includes(' border '))\n    input = input.replace(' border ', ' border border-border ')\n\n  const classNames = input.split(' ')\n  const lightMode = new Set<string>()\n  const darkMode = new Set<string>()\n  for (const className of classNames) {\n    const [variant, value, modifier] = splitClassName(className)\n    const prefix = PREFIXES.find(prefix => value?.startsWith(prefix))\n    if (!prefix) {\n      if (!lightMode.has(className))\n        lightMode.add(className)\n\n      continue\n    }\n\n    const needle = value?.replace(prefix, '')\n    if (needle && needle in mapping.light) {\n      lightMode.add(\n        [variant, `${prefix}${mapping.light[needle]}`]\n          .filter(Boolean)\n          .join(':') + (modifier ? `/${modifier}` : ''),\n      )\n\n      darkMode.add(\n        ['dark', variant, `${prefix}${mapping.dark[needle]}`]\n          .filter(Boolean)\n          .join(':') + (modifier ? `/${modifier}` : ''),\n      )\n      continue\n    }\n\n    if (!lightMode.has(className))\n      lightMode.add(className)\n  }\n\n  return [...Array.from(lightMode), ...Array.from(darkMode)].join(' ').trim()\n}\n","import type { Transformer } from '@/src/utils/transformers'\n\nexport const transformImport: Transformer = async ({ sourceFile, config }) => {\n  const importDeclarations = sourceFile.getImportDeclarations()\n\n  for (const importDeclaration of importDeclarations) {\n    const moduleSpecifier = importDeclaration.getModuleSpecifierValue()\n\n    // Replace @/lib/registry/[style] with the components alias.\n    if (moduleSpecifier.startsWith('@/lib/registry/')) {\n      if (config.aliases.ui) {\n        importDeclaration.setModuleSpecifier(\n          moduleSpecifier.replace(/^@\\/lib\\/registry\\/[^/]+\\/ui/, config.aliases.ui),\n        )\n      }\n      else {\n        importDeclaration.setModuleSpecifier(\n          moduleSpecifier.replace(\n            /^@\\/lib\\/registry\\/[^/]+/,\n            config.aliases.components,\n          ),\n        )\n      }\n    }\n\n    // Replace `import { cn } from \"@/lib/utils\"`\n    if (moduleSpecifier === '@/lib/utils') {\n      const namedImports = importDeclaration.getNamedImports()\n      const cnImport = namedImports.find(i => i.getName() === 'cn')\n      if (cnImport) {\n        importDeclaration.setModuleSpecifier(\n          moduleSpecifier.replace(/^@\\/lib\\/utils/, config.aliases.utils),\n        )\n      }\n    }\n  }\n\n  return sourceFile\n}\n","import { createRequire } from 'node:module'\nimport type { Transformer } from '@/src/utils/transformers'\n\n// required cause Error: Dynamic require of \"@babel/core\" is not supported\nconst require = createRequire(import.meta.url)\nconst { transform } = require('detype')\n\nexport async function transformByDetype(content: string, filename: string) {\n  return await transform(content, filename, {\n    removeTsComments: true,\n  })\n}\n\nexport const transformSFC: Transformer<string> = async ({ sourceFile, config, filename }) => {\n  const output = sourceFile?.getFullText()\n  if (config?.typescript)\n    return output\n\n  return await transformByDetype(output, filename)\n}\n","import { existsSync } from 'node:fs'\nimport path from 'pathe'\nimport { loadConfig as c12LoadConfig } from 'c12'\nimport type { ConfigLoaderResult } from 'tsconfig-paths'\nimport { loadConfig } from 'tsconfig-paths'\nimport { z } from 'zod'\nimport { resolveImport } from '@/src/utils/resolve-import'\n\nexport const DEFAULT_STYLE = 'default'\nexport const DEFAULT_COMPONENTS = '@/components'\nexport const DEFAULT_UTILS = '@/lib/utils'\nexport const DEFAULT_TYPESCRIPT_CONFIG = './tsconfig.json'\nexport const DEFAULT_TAILWIND_CONFIG = 'tailwind.config.js'\nexport const DEFAULT_TAILWIND_BASE_COLOR = 'slate'\n\nexport const TAILWIND_CSS_PATH = {\n  nuxt: 'assets/css/tailwind.css',\n  vite: 'src/assets/index.css',\n  laravel: 'resources/css/app.css',\n  astro: 'src/styles/globals.css',\n}\n\nexport const rawConfigSchema = z\n  .object({\n    $schema: z.string().optional(),\n    style: z.string(),\n    typescript: z.boolean().default(true),\n    tsConfigPath: z.string().default(DEFAULT_TYPESCRIPT_CONFIG),\n    tailwind: z.object({\n      config: z.string(),\n      css: z.string(),\n      baseColor: z.string(),\n      cssVariables: z.boolean().default(true),\n      prefix: z.string().optional(),\n    }),\n    framework: z.string().default('Vite'),\n    aliases: z.object({\n      components: z.string(),\n      utils: z.string(),\n      ui: z.string().default('').optional(),\n    }),\n  })\n  .strict()\n\nexport type RawConfig = z.infer<typeof rawConfigSchema>\n\nexport const configSchema = rawConfigSchema\n  .extend({\n    resolvedPaths: z.object({\n      tailwindConfig: z.string(),\n      tailwindCss: z.string(),\n      utils: z.string(),\n      components: z.string(),\n      ui: z.string(),\n    }),\n  })\n\nexport type Config = z.infer<typeof configSchema>\n\nexport async function getConfig(cwd: string) {\n  const config = await getRawConfig(cwd)\n\n  if (!config)\n    return null\n\n  return await resolveConfigPaths(cwd, config)\n}\n\nexport async function resolveConfigPaths(cwd: string, config: RawConfig) {\n  let tsConfig: ConfigLoaderResult | undefined\n  let tsConfigPath = path.resolve(\n    cwd,\n    config.tsConfigPath,\n  )\n\n  if (config.typescript) {\n    // Read tsconfig.json.\n    tsConfig = loadConfig(tsConfigPath)\n    // In new Vue project, tsconfig has references to tsconfig.app.json, which is causing the path not resolving correctly\n    // If no paths were found, try to load tsconfig.app.json.\n    if ('paths' in tsConfig && Object.keys(tsConfig.paths).length === 0) {\n      tsConfigPath = path.resolve(cwd, './tsconfig.app.json')\n      if (existsSync(tsConfigPath))\n        tsConfig = loadConfig(tsConfigPath)\n    }\n  }\n  else {\n    tsConfigPath = config.tsConfigPath.includes('tsconfig.json') ? path.resolve(cwd, './jsconfig.json') : path.resolve(cwd, config.tsConfigPath)\n    tsConfig = loadConfig(tsConfigPath)\n  }\n  if (tsConfig.resultType === 'failed') {\n    throw new Error(\n        `Failed to load ${tsConfigPath}. ${tsConfig.message ?? ''}`.trim(),\n    )\n  }\n\n  return configSchema.parse({\n    ...config,\n    resolvedPaths: {\n      tailwindConfig: path.resolve(cwd, config.tailwind.config),\n      tailwindCss: path.resolve(cwd, config.tailwind.css),\n      utils: resolveImport(config.aliases.utils, tsConfig),\n      components: resolveImport(config.aliases.components, tsConfig),\n      ui: config.aliases.ui\n        ? resolveImport(config.aliases.ui, tsConfig)\n        : resolveImport(config.aliases.components, tsConfig),\n    },\n  })\n}\n\nexport async function getRawConfig(cwd: string): Promise<RawConfig | null> {\n  try {\n    const configResult = await c12LoadConfig({\n      name: 'components',\n      configFile: 'components.json',\n      cwd,\n    })\n\n    if (!configResult.config || Object.keys(configResult.config).length === 0)\n      return null\n\n    return rawConfigSchema.parse(configResult.config)\n  }\n  catch (error) {\n    throw new Error(`Invalid configuration found in ${cwd}/components.json.`)\n  }\n}\n","import { type ConfigLoaderSuccessResult, createMatchPath } from 'tsconfig-paths'\n\nexport function resolveImport(\n  importPath: string,\n  config: Pick<ConfigLoaderSuccessResult, 'absoluteBaseUrl' | 'paths'>,\n) {\n  return createMatchPath(config.absoluteBaseUrl, config.paths)(\n    importPath,\n    undefined,\n    () => true,\n    ['.ts', '.tsx', '.vue'],\n  )\n}\n","import { consola } from 'consola'\n\nexport function handleError(error: unknown) {\n  if (typeof error === 'string') {\n    consola.error(error)\n    process.exit(1)\n  }\n\n  if (error instanceof Error) {\n    consola.error(error.message)\n    process.exit(1)\n  }\n\n  consola.error('Something went wrong. Please try again.')\n  process.exit(1)\n}\n","import process from 'node:process'\nimport path from 'pathe'\nimport { HttpsProxyAgent } from 'https-proxy-agent'\nimport { ofetch } from 'ofetch'\nimport type * as z from 'zod'\nimport consola from 'consola'\nimport {\n  registryBaseColorSchema,\n  registryIndexSchema,\n  registryWithContentSchema,\n  stylesSchema,\n} from '@/src/utils/registry/schema'\nimport type { registryItemWithContentSchema } from '@/src/utils/registry/schema'\nimport type { Config } from '@/src/utils/get-config'\n\nconst baseUrl = process.env.COMPONENTS_REGISTRY_URL ?? 'https://www.shadcn-vue.com'\nconst agent = process.env.https_proxy\n  ? new HttpsProxyAgent(process.env.https_proxy)\n  : undefined\n\nexport async function getRegistryIndex() {\n  try {\n    const [result] = await fetchRegistry(['index.json'])\n\n    return registryIndexSchema.parse(result)\n  }\n  catch (error) {\n    throw new Error('Failed to fetch components from registry.')\n  }\n}\n\nexport async function getRegistryStyles() {\n  try {\n    const [result] = await fetchRegistry(['styles/index.json'])\n\n    return stylesSchema.parse(result)\n  }\n  catch (error) {\n    throw new Error('Failed to fetch styles from registry.')\n  }\n}\n\nexport function getRegistryBaseColors() {\n  return [\n    {\n      name: 'slate',\n      label: 'Slate',\n    },\n    {\n      name: 'gray',\n      label: 'Gray',\n    },\n    {\n      name: 'zinc',\n      label: 'Zinc',\n    },\n    {\n      name: 'neutral',\n      label: 'Neutral',\n    },\n    {\n      name: 'stone',\n      label: 'Stone',\n    },\n  ]\n}\n\nexport async function getRegistryBaseColor(baseColor: string) {\n  try {\n    const [result] = await fetchRegistry([`colors/${baseColor}.json`])\n\n    return registryBaseColorSchema.parse(result)\n  }\n  catch (error) {\n    throw new Error('Failed to fetch base color from registry.')\n  }\n}\n\nexport async function resolveTree(\n  index: z.infer<typeof registryIndexSchema>,\n  names: string[],\n) {\n  const tree: z.infer<typeof registryIndexSchema> = []\n\n  for (const name of names) {\n    const entry = index.find(entry => entry.name === name)\n\n    if (!entry)\n      continue\n\n    tree.push(entry)\n\n    if (entry.registryDependencies) {\n      const dependencies = await resolveTree(index, entry.registryDependencies)\n      tree.push(...dependencies)\n    }\n  }\n\n  return tree.filter(\n    (component, index, self) =>\n      self.findIndex(c => c.name === component.name) === index,\n  )\n}\n\nexport async function fetchTree(\n  style: string,\n  tree: z.infer<typeof registryIndexSchema>,\n) {\n  try {\n    const paths = tree.map(item => `styles/${style}/${item.name}.json`)\n    const result = await fetchRegistry(paths)\n\n    return registryWithContentSchema.parse(result)\n  }\n  catch (error) {\n    throw new Error('Failed to fetch tree from registry.')\n  }\n}\n\nexport function getItemTargetPath(\n  config: Config,\n  item: Pick<z.infer<typeof registryItemWithContentSchema>, 'type'>,\n  override?: string,\n) {\n  // Allow overrides for all items but ui.\n  if (override)\n    return override\n\n  if (item.type === 'components:ui' && config.aliases.ui)\n    return config.resolvedPaths.ui\n\n  const [parent, type] = item.type.split(':')\n  if (!(parent in config.resolvedPaths))\n    return null\n\n  return path.join(\n    config.resolvedPaths[parent as keyof typeof config.resolvedPaths],\n    type,\n  )\n}\n\nasync function fetchRegistry(paths: string[]) {\n  try {\n    const results = await Promise.all(\n      paths.map(async (path) => {\n        const response = await ofetch(`${baseUrl}/registry/${path}`, {\n          // @ts-expect-error agent type\n          agent,\n        })\n\n        return response\n      }),\n    )\n    return results\n  }\n  catch (error) {\n    consola.error(error)\n    throw new Error(`Failed to fetch registry from ${baseUrl}.`)\n  }\n}\n","import { z } from 'zod'\n\n// TODO: Extract this to a shared package.\nexport const registryItemSchema = z.object({\n  name: z.string(),\n  dependencies: z.array(z.string()).optional(),\n  devDependencies: z.array(z.string()).optional(),\n  registryDependencies: z.array(z.string()).optional(),\n  files: z.array(z.string()),\n  type: z.enum(['components:ui', 'components:component', 'components:example']),\n})\n\nexport const registryIndexSchema = z.array(registryItemSchema)\n\nexport const registryItemWithContentSchema = registryItemSchema.extend({\n  files: z.array(\n    z.object({\n      name: z.string(),\n      content: z.string(),\n    }),\n  ),\n})\n\nexport const registryWithContentSchema = z.array(registryItemWithContentSchema)\n\nexport const stylesSchema = z.array(\n  z.object({\n    name: z.string(),\n    label: z.string(),\n  }),\n)\n\nexport const registryBaseColorSchema = z.object({\n  inlineColors: z.object({\n    light: z.record(z.string(), z.string()),\n    dark: z.record(z.string(), z.string()),\n  }),\n  cssVars: z.object({\n    light: z.record(z.string(), z.string()),\n    dark: z.record(z.string(), z.string()),\n  }),\n  inlineColorsTemplate: z.string(),\n  cssVarsTemplate: z.string(),\n})\n","import { existsSync, promises as fs } from 'node:fs'\nimport process from 'node:process'\nimport path from 'pathe'\nimport { consola } from 'consola'\nimport { colors } from 'consola/utils'\nimport { Command } from 'commander'\nimport { type Change, diffLines } from 'diff'\nimport { z } from 'zod'\nimport type { Config } from '@/src/utils/get-config'\nimport { getConfig } from '@/src/utils/get-config'\nimport { handleError } from '@/src/utils/handle-error'\nimport {\n  fetchTree,\n  getItemTargetPath,\n  getRegistryBaseColor,\n  getRegistryIndex,\n} from '@/src/utils/registry'\nimport type { registryIndexSchema } from '@/src/utils/registry/schema'\nimport { transform } from '@/src/utils/transformers'\n\nconst updateOptionsSchema = z.object({\n  component: z.string().optional(),\n  yes: z.boolean(),\n  cwd: z.string(),\n  path: z.string().optional(),\n})\n\nexport const diff = new Command()\n  .name('diff')\n  .description('check for updates against the registry')\n  .argument('[component]', 'the component name')\n  .option('-y, --yes', 'skip confirmation prompt.', false)\n  .option(\n    '-c, --cwd <cwd>',\n    'the working directory. defaults to the current directory.',\n    process.cwd(),\n  )\n  .action(async (name, opts) => {\n    try {\n      const options = updateOptionsSchema.parse({\n        component: name,\n        ...opts,\n      })\n\n      const cwd = path.resolve(options.cwd)\n\n      if (!existsSync(cwd)) {\n        consola.error(`The path ${cwd} does not exist. Please try again.`)\n        process.exit(1)\n      }\n\n      const config = await getConfig(cwd)\n      if (!config) {\n        consola.warn(\n          `Configuration is missing. Please run ${colors.green(\n            'init',\n          )} to create a components.json file.`,\n        )\n        process.exit(1)\n      }\n\n      const registryIndex = await getRegistryIndex()\n\n      if (!options.component) {\n        const targetDir = config.resolvedPaths.components\n\n        // Find all components that exist in the project.\n        const projectComponents = registryIndex.filter((item) => {\n          for (const file of item.files) {\n            const filePath = path.resolve(targetDir, file)\n            if (existsSync(filePath))\n              return true\n          }\n\n          return false\n        })\n\n        // Check for updates.\n        const componentsWithUpdates = []\n        for (const component of projectComponents) {\n          const changes = await diffComponent(component, config)\n          if (changes.length) {\n            componentsWithUpdates.push({\n              name: component.name,\n              changes,\n            })\n          }\n        }\n\n        if (!componentsWithUpdates.length) {\n          consola.info('No updates found.')\n          process.exit(0)\n        }\n\n        consola.info('The following components have updates available:')\n        for (const component of componentsWithUpdates) {\n          consola.info(`- ${component.name}`)\n          for (const change of component.changes)\n            consola.info(`  - ${change.filePath}`)\n        }\n\n        consola.log('')\n        consola.info(\n          `Run ${colors.green('diff <component>')} to see the changes.`,\n        )\n        process.exit(0)\n      }\n\n      // Show diff for a single component.\n      const component = registryIndex.find(\n        item => item.name === options.component,\n      )\n\n      if (!component) {\n        consola.error(\n          `The component ${colors.green(options.component)} does not exist.`,\n        )\n        process.exit(1)\n      }\n\n      const changes = await diffComponent(component, config)\n\n      if (!changes.length) {\n        consola.info(`No updates found for ${options.component}.`)\n        process.exit(0)\n      }\n\n      for (const change of changes) {\n        consola.info(`- ${change.filePath}`)\n        printDiff(change.patch)\n        consola.log('')\n      }\n    }\n    catch (error) {\n      handleError(error)\n    }\n  })\n\nasync function diffComponent(\n  component: z.infer<typeof registryIndexSchema>[number],\n  config: Config,\n) {\n  const payload = await fetchTree(config.style, [component])\n  const baseColor = await getRegistryBaseColor(config.tailwind.baseColor)\n\n  const changes = []\n\n  for (const item of payload) {\n    const targetDir = await getItemTargetPath(config, item)\n\n    if (!targetDir)\n      continue\n\n    for (const file of item.files) {\n      const filePath = path.resolve(targetDir, file.name)\n\n      if (!existsSync(filePath))\n        continue\n\n      const fileContent = await fs.readFile(filePath, 'utf8')\n\n      const registryContent = await transform({\n        filename: file.name,\n        raw: file.content,\n        config,\n        baseColor,\n      })\n\n      const patch = diffLines(registryContent as string, fileContent)\n      if (patch.length > 1) {\n        changes.push({\n          file: file.name,\n          filePath,\n          patch,\n        })\n      }\n    }\n  }\n\n  return changes\n}\n\n// TODO: Does is it need to async?\nfunction printDiff(diff: Change[]) {\n  diff.forEach((part) => {\n    if (part) {\n      if (part.added)\n        return process.stdout.write(colors.green(part.value))\n\n      if (part.removed)\n        return process.stdout.write(colors.red(part.value))\n\n      return process.stdout.write(part.value)\n    }\n  })\n}\n","import { existsSync, promises as fs } from 'node:fs'\nimport process from 'node:process'\nimport path from 'pathe'\nimport { Command } from 'commander'\nimport { template } from 'lodash-es'\nimport ora from 'ora'\nimport prompts from 'prompts'\nimport { z } from 'zod'\nimport { addDependency, addDevDependency } from 'nypm'\nimport { consola } from 'consola'\nimport { colors } from 'consola/utils'\nimport * as templates from '../utils/templates'\nimport {\n  getRegistryBaseColor,\n  getRegistryBaseColors,\n  getRegistryStyles,\n} from '../utils/registry'\nimport { handleError } from '../utils/handle-error'\nimport { transformByDetype } from '../utils/transformers/transform-sfc'\nimport {\n  type Config,\n  DEFAULT_COMPONENTS,\n  DEFAULT_TAILWIND_CONFIG,\n  DEFAULT_UTILS,\n  TAILWIND_CSS_PATH,\n  getConfig,\n  rawConfigSchema,\n  resolveConfigPaths,\n} from '../utils/get-config'\nimport { transformCJSToESM } from '../utils/transformers/transform-cjs-to-esm'\nimport { applyPrefixesCss } from '../utils/transformers/transform-tw-prefix'\n\nconst PROJECT_DEPENDENCIES = {\n  base: [\n    'tailwindcss-animate',\n    'class-variance-authority',\n    'clsx',\n    'tailwind-merge',\n    'radix-vue',\n  ],\n  nuxt: [\n    '@nuxtjs/tailwindcss',\n  ],\n}\n\nconst initOptionsSchema = z.object({\n  cwd: z.string(),\n  yes: z.boolean(),\n})\n\nexport const init = new Command()\n  .name('init')\n  .description('initialize your project and install dependencies')\n  .option('-y, --yes', 'skip confirmation prompt.', false)\n  .option(\n    '-c, --cwd <cwd>',\n    'the working directory. defaults to the current directory.',\n    process.cwd(),\n  )\n  .action(async (opts) => {\n    try {\n      const options = initOptionsSchema.parse(opts)\n      const cwd = path.resolve(options.cwd)\n\n      // Ensure target directory exists.\n      if (!existsSync(cwd)) {\n        consola.error(`The path ${cwd} does not exist. Please try again.`)\n        process.exit(1)\n      }\n\n      // Read config.\n      const existingConfig = await getConfig(cwd)\n      const config = await promptForConfig(cwd, existingConfig, options.yes)\n\n      await runInit(cwd, config)\n\n      consola.log('')\n      consola.info(\n        `${colors.green('Success!')} Project initialization completed.`,\n      )\n      consola.log('')\n    }\n    catch (error) {\n      handleError(error)\n    }\n  })\n\nexport async function promptForConfig(\n  cwd: string,\n  defaultConfig: Config | null = null,\n  skip = false,\n) {\n  const highlight = (text: string) => colors.cyan(text)\n\n  const styles = await getRegistryStyles()\n  const baseColors = await getRegistryBaseColors()\n\n  const options = await prompts([\n    {\n      type: 'toggle',\n      name: 'typescript',\n      message: `Would you like to use ${highlight('TypeScript')}? ${colors.gray('(recommended)')}?`,\n      initial: defaultConfig?.typescript ?? true,\n      active: 'yes',\n      inactive: 'no',\n    },\n    {\n      type: 'select',\n      name: 'framework',\n      message: `Which ${highlight('framework')} are you using?`,\n      choices: [\n        { title: 'Vite', value: 'vite' },\n        { title: 'Nuxt', value: 'nuxt' },\n        { title: 'Laravel', value: 'laravel' },\n        { title: 'Astro', value: 'astro' },\n      ],\n    },\n    {\n      type: 'select',\n      name: 'style',\n      message: `Which ${highlight('style')} would you like to use?`,\n      choices: styles.map(style => ({\n        title: style.label,\n        value: style.name,\n      })),\n    },\n    {\n      type: 'select',\n      name: 'tailwindBaseColor',\n      message: `Which color would you like to use as ${highlight(\n        'base color',\n      )}?`,\n      choices: baseColors.map(color => ({\n        title: color.label,\n        value: color.name,\n      })),\n    },\n    {\n      type: 'text',\n      name: 'tsConfigPath',\n      message: (prev, values) => `Where is your ${highlight(values.typescript ? 'tsconfig.json' : 'jsconfig.json')} file?`,\n      initial: (prev, values) => {\n        const prefix = values.framework === 'nuxt' ? '.nuxt/' : './'\n        const path = values.typescript ? 'tsconfig.json' : 'jsconfig.json'\n        return prefix + path\n      },\n    },\n    {\n      type: 'text',\n      name: 'tailwindCss',\n      message: `Where is your ${highlight('global CSS')} file? ${colors.gray('(this file will be overwritten)')}`,\n      initial: (prev, values) => defaultConfig?.tailwind.css ?? TAILWIND_CSS_PATH[values.framework as 'vite' | 'nuxt' | 'laravel' | 'astro'],\n    },\n    {\n      type: 'toggle',\n      name: 'tailwindCssVariables',\n      message: `Would you like to use ${highlight(\n        'CSS variables',\n      )} for colors?`,\n      initial: defaultConfig?.tailwind.cssVariables ?? true,\n      active: 'yes',\n      inactive: 'no',\n    },\n    // {\n    //   type: 'text',\n    //   name: 'tailwindPrefix',\n    //   message: `Are you using a custom ${highlight(\n    //     'tailwind prefix eg. tw-',\n    //   )}? (Leave blank if not)`,\n    //   initial: '',\n    // },\n    {\n      type: 'text',\n      name: 'tailwindConfig',\n      message: `Where is your ${highlight('tailwind.config')} located? ${colors.gray('(this file will be overwritten)')}`,\n      initial: (prev, values) => {\n        if (defaultConfig?.tailwind.config)\n          return defaultConfig?.tailwind.config\n        if (values.framework === 'astro')\n          return 'tailwind.config.mjs'\n        else return DEFAULT_TAILWIND_CONFIG\n      },\n    },\n    {\n      type: 'text',\n      name: 'components',\n      message: `Configure the import alias for ${highlight('components')}:`,\n      initial: defaultConfig?.aliases.components ?? DEFAULT_COMPONENTS,\n    },\n    {\n      type: 'text',\n      name: 'utils',\n      message: `Configure the import alias for ${highlight('utils')}:`,\n      initial: defaultConfig?.aliases.utils ?? DEFAULT_UTILS,\n    },\n  ])\n\n  const config = rawConfigSchema.parse({\n    $schema: 'https://shadcn-vue.com/schema.json',\n    style: options.style,\n    typescript: options.typescript,\n    tsConfigPath: options.tsConfigPath,\n    framework: options.framework,\n    tailwind: {\n      config: options.tailwindConfig,\n      css: options.tailwindCss,\n      baseColor: options.tailwindBaseColor,\n      cssVariables: options.tailwindCssVariables,\n      // prefix: options.tailwindPrefix,\n    },\n    aliases: {\n      utils: options.utils,\n      components: options.components,\n    },\n  })\n\n  if (!skip) {\n    const { proceed } = await prompts({\n      type: 'confirm',\n      name: 'proceed',\n      message: `Write configuration to ${highlight('components.json')}. Proceed?`,\n      initial: true,\n    })\n\n    if (!proceed)\n      process.exit(0)\n  }\n\n  // Write to file.\n  consola.log('')\n  const spinner = ora('Writing components.json...').start()\n  const targetPath = path.resolve(cwd, 'components.json')\n  await fs.writeFile(targetPath, JSON.stringify(config, null, 2), 'utf8')\n  spinner.succeed()\n\n  return await resolveConfigPaths(cwd, config)\n}\n\nexport async function runInit(cwd: string, config: Config) {\n  const spinner = ora('Initializing project...')?.start()\n\n  // Ensure all resolved paths directories exist.\n  for (const [key, resolvedPath] of Object.entries(config.resolvedPaths)) {\n    // Determine if the path is a file or directory.\n    // TODO: is there a better way to do this?\n    let dirname = path.extname(resolvedPath)\n      ? path.dirname(resolvedPath)\n      : resolvedPath\n\n    // If the utils alias is set to something like \"@/lib/utils\",\n    // assume this is a file and remove the \"utils\" file name.\n    // TODO: In future releases we should add support for individual utils.\n    if (key === 'utils' && resolvedPath.endsWith('/utils')) {\n      // Remove /utils at the end.\n      dirname = dirname.replace(/\\/utils$/, '')\n    }\n\n    if (!existsSync(dirname))\n      await fs.mkdir(dirname, { recursive: true })\n  }\n\n  const extension = config.typescript ? 'ts' : 'js'\n\n  // Write tailwind config.\n  await fs.writeFile(\n    config.resolvedPaths.tailwindConfig,\n    transformCJSToESM(\n      config.resolvedPaths.tailwindConfig,\n      config.tailwind.cssVariables\n        ? template(templates.TAILWIND_CONFIG_WITH_VARIABLES)({ extension, framework: config.framework, prefix: config.tailwind.prefix })\n        : template(templates.TAILWIND_CONFIG)({ extension, framework: config.framework, prefix: config.tailwind.prefix }),\n    ),\n    'utf8',\n  )\n\n  // Write css file.\n  const baseColor = await getRegistryBaseColor(config.tailwind.baseColor)\n  if (baseColor) {\n    await fs.writeFile(\n      config.resolvedPaths.tailwindCss,\n      config.tailwind.cssVariables\n        ? config.tailwind.prefix\n          ? applyPrefixesCss(baseColor.cssVarsTemplate, config.tailwind.prefix)\n          : baseColor.cssVarsTemplate\n        : baseColor.inlineColorsTemplate,\n      'utf8',\n    )\n  }\n\n  // Write cn file.\n  await fs.writeFile(\n    `${config.resolvedPaths.utils}.${extension}`,\n    extension === 'ts' ? templates.UTILS : await transformByDetype(templates.UTILS, '.ts'),\n    'utf8',\n  )\n\n  spinner?.succeed()\n\n  // Install dependencies.\n  const dependenciesSpinner = ora('Installing dependencies...')?.start()\n\n  const deps = PROJECT_DEPENDENCIES.base.concat(\n    config.style === 'new-york' ? ['@radix-icons/vue'] : ['lucide-vue-next'],\n  ).filter(Boolean)\n\n  await Promise.allSettled(\n    [\n      config.framework === 'nuxt' && await addDevDependency(PROJECT_DEPENDENCIES.nuxt, {\n        cwd,\n        silent: true,\n      }),\n      await addDependency(deps, {\n        cwd,\n        silent: true,\n      }),\n    ],\n  )\n\n  dependenciesSpinner?.succeed()\n}\n","export const UTILS = `import { type ClassValue, clsx } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n`\n\nexport const TAILWIND_CONFIG = `const animate = require(\"tailwindcss-animate\")\n\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  darkMode: [\"class\"],\n  content: [\n    './pages/**/*.{<%- extension %>,<%- extension %>x,vue}',\n    './components/**/*.{<%- extension %>,<%- extension %>x,vue}',\n    './app/**/*.{<%- extension %>,<%- extension %>x,vue}',\n    './src/**/*.{<%- extension %>,<%- extension %>x,vue}',\n\t],\n  prefix: \"<%- prefix %>\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: 0 },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: 0 },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [animate],\n}`\n\nexport const TAILWIND_CONFIG_WITH_VARIABLES = `const animate = require(\"tailwindcss-animate\")\n\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  darkMode: [\"class\"],\n  safelist: [\"dark\"],\n  prefix: \"<%- prefix %>\",\n  <% if (framework === 'vite') { %>\n  content: [\n    './pages/**/*.{<%- extension %>,<%- extension %>x,vue}',\n    './components/**/*.{<%- extension %>,<%- extension %>x,vue}',\n    './app/**/*.{<%- extension %>,<%- extension %>x,vue}',\n    './src/**/*.{<%- extension %>,<%- extension %>x,vue}',\n\t],\n  <% } else if (framework === 'laravel') { %>\n  content: [\n    \"./vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php\",\n    \"./storage/framework/views/*.php\",\n    \"./resources/views/**/*.blade.php\",\n    \"./resources/js/**/*.{<%- extension %>,<%- extension %>x,vue}\",\n  ],\n  <% } else if (framework === 'astro') { %>\n    content: [\n      './src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}',\n    ],\n  <% } %>\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n      },\n      borderRadius: {\n      \txl: \"calc(var(--radius) + 4px)\",\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: 0 },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: 0 },\n        },\n        \"collapsible-down\": {\n          from: { height: 0 },\n          to: { height: 'var(--radix-collapsible-content-height)' },\n        },\n        \"collapsible-up\": {\n          from: { height: 'var(--radix-collapsible-content-height)' },\n          to: { height: 0 },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"collapsible-down\": \"collapsible-down 0.2s ease-in-out\",\n        \"collapsible-up\": \"collapsible-up 0.2s ease-in-out\",\n      },\n    },\n  },\n  plugins: [animate],\n}`\n","export function transformCJSToESM(filename: string, code: string) {\n  if (filename.endsWith('.mjs')) {\n    return code\n      .replace(/const\\s([\\w\\d_]+)\\s*=\\s*require\\((.*)\\);?/g, 'import $1 from $2')\n      .replace(/module\\.exports = /g, 'export default ')\n  }\n  return code\n}\n","import { SyntaxKind } from 'ts-morph'\nimport { MagicString, parse } from '@vue/compiler-sfc'\nimport type { SFCTemplateBlock } from '@vue/compiler-sfc'\nimport { splitClassName } from './transform-css-vars'\nimport type { Transformer } from '@/src/utils/transformers'\n\nexport const transformTwPrefixes: Transformer = async ({\n  sourceFile,\n  config,\n}) => {\n  const isVueFile = sourceFile.getFilePath().endsWith('vue')\n  if (!config.tailwind?.prefix)\n    return sourceFile\n\n  let template: SFCTemplateBlock | null = null\n\n  if (isVueFile) {\n    const parsed = parse(sourceFile.getText())\n    template = parsed.descriptor.template\n\n    if (!template)\n      return sourceFile\n  }\n\n  sourceFile.getDescendantsOfKind(SyntaxKind.StringLiteral).forEach((node) => {\n    if (template && template.loc.start.offset >= node.getPos())\n      return sourceFile\n\n    const attrName = sourceFile.getDescendantAtPos(node.getPos() - 2)?.getText()\n    if (isVueFile && attrName !== 'class')\n      return sourceFile\n\n    const value = node.getText()\n    const hasClosingDoubleQuote = value.match(/\"/g)?.length === 2\n    if (value.search('\\'') === -1 && hasClosingDoubleQuote) {\n      const mapped = applyPrefix(value.replace(/\"/g, ''), config.tailwind.prefix)\n      node.replaceWithText(`\"${mapped}\"`)\n    }\n    else {\n      const s = new MagicString(value)\n      s.replace(/'(.*?)'/g, (substring) => {\n        return `'${applyPrefix(substring.replace(/\\'/g, ''), config.tailwind.prefix)}'`\n      })\n      node.replaceWithText(s.toString())\n    }\n  })\n\n  return sourceFile\n}\n\nexport function applyPrefix(input: string, prefix: string = '') {\n  const classNames = input.split(' ')\n  const prefixed: string[] = []\n  for (const className of classNames) {\n    const [variant, value, modifier] = splitClassName(className)\n    if (variant) {\n      modifier\n        ? prefixed.push(`${variant}:${prefix}${value}/${modifier}`)\n        : prefixed.push(`${variant}:${prefix}${value}`)\n    }\n    else {\n      modifier\n        ? prefixed.push(`${prefix}${value}/${modifier}`)\n        : prefixed.push(`${prefix}${value}`)\n    }\n  }\n  return prefixed.join(' ')\n}\n\nexport function applyPrefixesCss(css: string, prefix: string) {\n  const lines = css.split('\\n')\n  for (const line of lines) {\n    if (line.includes('@apply')) {\n      const originalTWCls = line.replace('@apply', '').trim()\n      const prefixedTwCls = applyPrefix(originalTWCls, prefix)\n      css = css.replace(originalTWCls, prefixedTwCls)\n    }\n  }\n  return css\n}\n","import { fileURLToPath } from 'node:url'\nimport path from 'pathe'\nimport fs from 'fs-extra'\nimport type { PackageJson } from 'type-fest'\n\nexport function getPackageInfo() {\n  const packageJsonPath = getPackageFilePath('../package.json')\n\n  return fs.readJSONSync(packageJsonPath) as PackageJson\n}\n\nfunction getPackageFilePath(filePath: string) {\n  const distPath = fileURLToPath(new URL('.', import.meta.url))\n\n  return path.resolve(distPath, filePath)\n}\n"],"mappings":"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","names":["process","Command","existsSync","fs","process","path","consola","z","template","prefix","require","transform","path","path","process","path","consola","z","process","entry","index","path","consola","z","process","path","existsSync","consola","components","fs","transform","existsSync","fs","process","path","consola","colors","Command","z","z","Command","process","path","existsSync","consola","colors","component","changes","fs","transform","diff","existsSync","fs","process","path","Command","ora","prompts","z","addDependency","addDevDependency","consola","colors","SyntaxKind","MagicString","parse","z","Command","process","path","existsSync","consola","colors","prompts","ora","fs","addDevDependency","addDependency","path","fs","process","Command"]}